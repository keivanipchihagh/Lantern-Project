{% load static %}

<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.6.14/dist/css/uikit.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.6.14/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.6.14/dist/js/uikit-icons.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <link href="{% static 'api/styles/style.css' %}" type="text/css" rel="stylesheet" />
</head>

<body>
    <div id="app" class="app" v-bind:class="{'uk-app-dark': isDark, 'uk-app-light': !isDark}">

        <!-- Head - start -->
        <div class="head">
            <!-- Logo - start -->
            <div class="app-logo" v-on:mouseover="toggleHeader">
                <img src="{% static 'api/images/logo.png' %}" />
            </div>
            <!-- Logo - end -->
            <!-- Header - start -->
            <div id="app-header" class="uk-width-auto app-header" v-bind:class="{'app-header-expand': expandHeader}">
                <div class="app-header-container" v-if="showHeader">
                    <span id="title" class="app-cursor-pointer" v-on:click="toggleApp">Lantern Project</span>
                    <ul class="uk-iconnav uk-margin-small-right uk-float-right">
                        <li class="app-icon" v-bind:class="{'app-icon-show': expandApp}">
                            <a class="app-cursor-pointer" uk-icon="icon: settings" title="settings" v-bind:class="{'uk-icon-light': isDark}"></a>

                            <!-- Settings - start -->
                            <div class="app-dropdown" uk-dropdown="pos: bottom-center; animation: uk-animation-slide-top-small; duration: 200">
                                <div class=".uk-container-xsmall">
                                    <span class="app-dropdown-desc">Theme</span>
                                    <ul class="uk-subnav uk-subnav-pill app-cursor-pointer">
                                        <li v-bind:class="{'uk-active': !isDark}"><a class="app-dropdown-li-radius-left" v-on:click="changeTheme">Light</a></li>
                                        <li v-bind:class="{'uk-active': isDark}"><a class="app-dropdown-li-radius-right" v-on:click="changeTheme">Dark</a></li>
                                    </ul>
                                </div>
                            </div>
                            <!-- Settings - end -->
                        </li>
                        <li><a id="toggler" class="app-cursor-pointer" uk-icon="icon: chevron-up" title="maximize" v-bind:class="{'uk-icon-light': isDark}" v-on:click="toggleApp"></a></li>
                        <li><a class="app-cursor-pointer" uk-icon="icon: close" title="close" v-on:click="closeApp" v-bind:class="{'uk-icon-light': isDark}"></a></li>
                    </ul>
                </div>
            </div>
            <!-- Header - end -->
        </div>
        <!-- Head - end -->
        <!-- Content - start -->
        <div id="app-content" class="app-content" v-bind:class="{'app-content-show': expandApp}">

            <!-- Body - start -->
            <div id="app-body" class="uk-card-body uk-padding-small app-body">

                <div id="chat-log" is="Package" v-for="package in packages" v-bind:key="package.id" v-bind:_sender="package.sender" v-bind:message="package.message" v-bind:datetime="package.datetime" v-bind:id="package.id" v-if="ready & expandApp"></div>

            </div>
            <!-- Body - end -->
            <!-- Footer - start -->
            <div class="uk-card-footer uk-padding-remove uk-stick-bottom" v-show="ready & expandApp">

                <div class="uk-grid-small uk-flex-middle uk-margin-small-left" uk-grid>
                    <div class="uk-width-expand">
                        <form class="uk-padding-small uk-padding-remove-horizontal">
                            <textarea id="chat-message-input" class="uk-textarea uk-padding-remove uk-border-remove" rows="2" maxlength="300" placeholder="Message..." v-on:keyup.enter="sendMessage" v-bind:class="{'uk-font-light': isDark}"></textarea>
                        </form>
                    </div>
                    <div class="uk-width-auto">
                        <ul class="uk-iconnav uk-margin-small-right">
                            <li><a class="app-cursor-pointer" uk-icon="icon: image" title="image" v-bind:class="{'uk-icon-light': isDark}"></a></li>
                            <li><a id="chat-message-submit" class="app-cursor-pointer app-icon-blue" uk-icon="icon: forward" title="send"></a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- Footer - end -->
        </div>
        <!-- Content - end -->
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="{% static 'api/scripts/script.js' %}"></script>
</body>
</html>